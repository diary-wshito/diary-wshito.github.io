<!DOCTYPE html>
<html lang="ja-JP">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    
    
        <meta name="twitter:card" content="summary"/>
    



<meta name="twitter:title" content="次のマイクロマウス製作に向けて"/>
<meta name="twitter:description" content=""/>
<meta name="twitter:site" content="@waterloo_jp"/>



  	<meta property="og:title" content="次のマイクロマウス製作に向けて &middot; wshito&#39;s diary" />
  	<meta property="og:site_name" content="wshito&#39;s diary" />
  	<meta property="og:url" content="http://diary.wshito.com/elec/micromouse/micromouse2017/" />

    
        
    

    
    <meta property="og:description" content="" />
  	<meta property="og:type" content="article" />
    <meta property="article:published_time" content="2017-02-16T19:59:57&#43;09:00" />

    
    <meta property="article:tag" content="組み込み" />
    
    <meta property="article:tag" content="電子工作" />
    
    <meta property="article:tag" content="robot" />
    
    <meta property="article:tag" content="micromouse" />
    
    <meta property="article:tag" content="STM32" />
    
    <meta property="article:tag" content="KiCad" />
    
    

    <title>次のマイクロマウス製作に向けて &middot; wshito&#39;s diary</title>

    
    <meta name="description" content="初出場の2016年九州地区大会では完走できなかった．今年は初号機を調整して完走を目指すと同時に，もっと速いマウスの製作にも挑戦したい．DCマウスも作ってみたいが，まだ完走も出来ていないので，今年も基本に忠実にステッパーでいこうと思う． 今年は新しいスキルを身につけるために，以下のことにチャレンジしたい． 3D CADを" />
    

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="http://diary.wshito.com/images/favicon.ico">
	  <link rel="apple-touch-icon" href="http://diary.wshito.com/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="http://diary.wshito.com/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <link rel="stylesheet" type="text/css" href="http://diary.wshito.com/css/prism.css">
    <link rel="stylesheet" type="text/css" href="http://diary.wshito.com/css/wshito-casper.css">

    

    
      
          <link href="http://diary.wshito.com/index.xml" rel="alternate" type="application/rss+xml" title="wshito&#39;s diary" />
      
      
    
    <meta name="generator" content="Hugo 0.30-DEV" />

    <link rel="canonical" href="http://diary.wshito.com/elec/micromouse/micromouse2017/" />

    
      
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": W.Shito
    },
    "author": {
        "@type": "Person",
        "name": W.Shito,
        
        "url": http://diary.wshito.com,
        "sameAs": [
            
            
             
             
             
             
             
            
        ]
    },
    "headline": 次のマイクロマウス製作に向けて,
    "name": 次のマイクロマウス製作に向けて,
    "wordCount": 1105,
    "timeRequired": "PT3M",
    "inLanguage": {
      "@type": "Language",
      "alternateName": en
    },
    "url": http://diary.wshito.com/elec/micromouse/micromouse2017/,
    "datePublished": 2017-02-16T19:59Z,
    "dateModified": 2017-02-16T19:59Z,
    
    "keywords": 組み込み, 電子工作, robot, micromouse, STM32, KiCad,
    "description": ,
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": http://diary.wshito.com/elec/micromouse/micromouse2017/
    }
}
    </script>
    


    

    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-422028-3', 'auto');
      ga('send', 'pageview');

    </script>
    

    

    
    <script src="https://use.fontawesome.com/0268256572.js"></script>
</head>


<body class="post-template nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        
        
        
            
            <li class="nav-opened" role="presentation">
            	<a href="http://diary.wshito.com/">Home</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="http://diary.wshito.com/categories/">Categories</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="http://diary.wshito.com/tags/">Tags</a>
            </li>
        
        
    </ul>

    
    <a class="subscribe-button icon-feed" href="http://diary.wshito.com/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


  <div class="site-wrapper">


<header class="main-header post-head no-cover">
  <nav class="main-nav clearfix">


  
  
      <a class="menu-button" href="#"><span class="burger">&#9776;</span><span class="word">Menu</span></a>
  
  </nav>
</header>


<main class="content" role="main">

  

  <article class="post elec">

    <header class="post-header">
        <h1 class="post-title">次のマイクロマウス製作に向けて</h1>
        
        <section class="post-meta">
          <time class="post-date" datetime="2017-02-16T19:59:57&#43;09:00">
            February 16, 2017
          </time>
	  
	  on
	  
         
          <span class="post-tag small"><a href="http://diary.wshito.com//tags/%E7%B5%84%E3%81%BF%E8%BE%BC%E3%81%BF/">#組み込み</a></span>
         
          <span class="post-tag small"><a href="http://diary.wshito.com//tags/%E9%9B%BB%E5%AD%90%E5%B7%A5%E4%BD%9C/">#電子工作</a></span>
         
          <span class="post-tag small"><a href="http://diary.wshito.com//tags/robot/">#robot</a></span>
         
          <span class="post-tag small"><a href="http://diary.wshito.com//tags/micromouse/">#micromouse</a></span>
         
          <span class="post-tag small"><a href="http://diary.wshito.com//tags/stm32/">#STM32</a></span>
         
          <span class="post-tag small"><a href="http://diary.wshito.com//tags/kicad/">#KiCad</a></span>
         
        </section>
    </header>

    <section class="post-content">
      

<p>初出場の2016年九州地区大会では完走できなかった．今年は初号機を調整して完走を目指すと同時に，もっと速いマウスの製作にも挑戦したい．DCマウスも作ってみたいが，まだ完走も出来ていないので，今年も基本に忠実にステッパーでいこうと思う．</p>

<p>今年は新しいスキルを身につけるために，以下のことにチャレンジしたい．</p>

<ul>
<li>3D CADを使って機体を設計する．</li>
<li>KiCadを使って基板を設計する．</li>
<li>新しいMPUを採用する．</li>
<li>マウスのコントロールを物理量ベースで行う．</li>
</ul>

<h2 id="3d-cadの選定">3D CADの選定</h2>

<p>フリーのCADで評判が良いのは，Fusion360やDesignSpark Mechanicalだ．しかし，多少使いづらかったり機能面で劣っていても，未来永劫フリーで何の縛りもない方が性に合うので，<a href="https://www.freecadweb.org">FreeCAD</a>に決まり．</p>

<ul>
<li><a href="https://www.freecadweb.org">FreeCAD公式ページ</a></li>
<li><a href="https://www.freecadweb.org/wiki/Main_Page">FreeCAD 公式ドキュメント</a> （<a href="https://www.freecadweb.org/wiki/Online_Help_Toc/jp">日本語</a>）</li>
<li><a href="http://freecad.vdlz.xyz/tutorial/tutorial.html">FreeCADのチュートリアル</a></li>
</ul>

<h2 id="基板cad">基板CAD</h2>

<p>昨年はEagleを使って基板を製作した．随分多くのパーツを自分で作って登録したので愛着もあるが，今後長く使っていくならやはり何の縛りもないフリーのCADに早めに乗り換えた方が良いと考え，今年は<a href="http://kicad.jp">KiCad</a>を一から勉強し直そうと思う．</p>

<ul>
<li><a href="http://kicad-pcb.org">KiCAD公式サイト</a></li>
<li><a href="http://kicad.jp">KiCAD日本ユーザコミニティ</a></li>
<li><a href="https://youtu.be/JN_Y93RTdSo?list=PL5iUxv3Op2fOpVASHvcpM2O4UO0yMfKJi">Contextual Electronicsのチュートリアルビデオシリーズ</a></li>
</ul>

<h2 id="mpuの選定">MPUの選定</h2>

<p>昨年はNXPのLPC1114を使用した．プロトタイプ製作ではDIPパッケージを使い，基板に実装する際はLPC1114FDH28/102（TSSOP 28pin）を使い，とても便利だった．しかしFPUがないため，浮動小数点の計算が続くとマシンの動きがギクシャクした．今年は昨年よりも速いステッピングモーターを使いたいので，FPUが付いたMPUにしたい．また色々なセンサを追加できるように，最低8つのADチャンネルは欲しい．PSoCも魅力的だが現時点でFPU付きのモデルが発売されていないので残念ながら今回は見送り．</p>

<p>色々と物色した結果，ARMコアの中で入手の容易性と手頃な値段からSTMのMPUに乗り換えることにした．FPU付きだとARM Coretex M4以上となるので，STM32F4，STM32F3，STM32L4あたりから選ぶのが妥当だろう．</p>

<p><img src="skitch.png" alt="STM32ラインナップ" /></p>

<p>上位シリーズのSTM32F4なら<a href="http://www.st.com/content/st_com/ja/products/microcontrollers/stm32-32-bit-arm-cortex-mcus/stm32f4-series/stm32f407-417/stm32f407vg.html">STM32F4Discovery</a>評価ボードが<a href="http://akizukidenshi.com/catalog/g/gM-05313/">秋月</a> で2,800円で買える．まずはこの評価ボードを使ってSTM32コアの使い方を学ぼうと思う．この評価ボードに載っている
<a href="http://jp.rs-online.com/web/p/microcontrollers/7468226/">STM32F407VGT6</a> （RSオンラインで1,489円）は，Ethernetコントローラーまで付いていてオーバースペックなので，実際に使用するのは以下の中のどれかとなるだろう．大きさは64pinのLQFPパッケージとする予定だ．</p>

<ul>
<li><a href="http://www.st.com/content/st_com/en/products/microcontrollers/stm32-32-bit-arm-cortex-mcus/stm32f4-series/stm32f401.html?querycriteria=productId=LN1810">STM32F401</a></li>
<li><a href="http://www.st.com/content/st_com/en/products/microcontrollers/stm32-32-bit-arm-cortex-mcus/stm32f4-series/stm32f410.html?querycriteria=productId=LN1938">STM32F410</a></li>
<li><a href="http://www.st.com/content/st_com/en/products/microcontrollers/stm32-32-bit-arm-cortex-mcus/stm32f4-series/stm32f411.html?querycriteria=productId=LN1877">STM32F411</a></li>
</ul>

<p><img src="skitch-1.png" alt="" /></p>

    </section>


  <footer class="post-footer">


    









<section class="author">
  <h4><a href="http://diary.wshito.com/">wshito</a></h4>
  
  <p>Read <a href="http://diary.wshito.com/">more posts</a> by this author.</p>
  
  <div class="author-meta">
    <span class="author-location icon-location">Itoshima, Japan</span>
    <span class="author-link icon-link"><a href="http://diary.wshito.com">http://diary.wshito.com</a></span>
  </div>
</section>




    
<section class="share">
  <h4>Share this post</h4>
  <a class="icon-twitter" href="https://twitter.com/share?text=%e6%ac%a1%e3%81%ae%e3%83%9e%e3%82%a4%e3%82%af%e3%83%ad%e3%83%9e%e3%82%a6%e3%82%b9%e8%a3%bd%e4%bd%9c%e3%81%ab%e5%90%91%e3%81%91%e3%81%a6&nbsp;-&nbsp;wshito%27s%20diary&amp;url=http%3a%2f%2fdiary.wshito.com%2felec%2fmicromouse%2fmicromouse2017%2f"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span class="hidden">Twitter</span>
  </a>
  <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fdiary.wshito.com%2felec%2fmicromouse%2fmicromouse2017%2f"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span class="hidden">Facebook</span>
  </a>
  <a class="icon-google-plus" href="https://plus.google.com/share?url=http%3a%2f%2fdiary.wshito.com%2felec%2fmicromouse%2fmicromouse2017%2f"
     onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
      <span class="hidden">Google+</span>
  </a>
</section>



    





  </footer>
</article>

</main>


  <aside class="read-next">
  
  
</aside>



    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">wshito&#39;s diary</a> All rights reserved 2016--</section>
        
        <section class="poweredby">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/vjeantet/hugo-theme-casper">Casper</a> theme</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="http://diary.wshito.com/js/jquery.js"></script>
    <script type="text/javascript" src="http://diary.wshito.com/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="http://diary.wshito.com/js/index.js"></script>
    <script type="text/javascript" src="http://diary.wshito.com/js/prism.js"></script>
    <script type="text/javascript" src="http://diary.wshito.com/js/toc.js"></script>
    <script type="text/x-mathjax-config">
     MathJax.Hub.Config({
       TeX: {
	 extensions: ["AMSmath.js", "AMSsymbols.js"]
       }
     });
    </script>
    <script type="text/javascript" async
	    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML">
    </script>
    
</body>
</html>

